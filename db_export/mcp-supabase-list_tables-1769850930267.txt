[
  {
    "type": "text",
    "text": "[{\"schema\":\"public\",\"name\":\"menu_items\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"menu_day_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"recipe_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"meal_type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"servings\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_items_menu_day_id_fkey\",\"source\":\"public.menu_items.menu_day_id\",\"target\":\"public.menu_days.id\"},{\"name\":\"menu_items_recipe_id_fkey\",\"source\":\"public.menu_items.recipe_id\",\"target\":\"public.recipes.id\"}]},{\"schema\":\"public\",\"name\":\"guest_notes\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"guest_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"registration_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"note\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"created_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"guest_notes_registration_id_fkey\",\"source\":\"public.guest_notes.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"guest_notes_created_by_fkey\",\"source\":\"public.guest_notes.created_by\",\"target\":\"public.profiles.id\"}]},{\"schema\":\"public\",\"name\":\"user_invitations\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"email\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"team_member_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"invited_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"token\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"expires_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"updatable\"]},{\"name\":\"accepted_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"user_invitations_invited_by_fkey\",\"source\":\"public.user_invitations.invited_by\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"room_types\",\"rls_enabled\":true,\"rows\":6,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"default_capacity\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"1\"},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'#6366f1'::text\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"rooms_room_type_id_fkey\",\"source\":\"public.rooms.room_type_id\",\"target\":\"public.room_types.id\"}]},{\"schema\":\"public\",\"name\":\"stock_issuances\",\"rls_enabled\":true,\"rows\":1,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"nextval('stock_issuances_number_seq'::regclass)\"},{\"name\":\"issuance_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"],\"default_value\":\"CURRENT_DATE\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"archived\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"deleted\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"receiver_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issuances_location_id_fkey\",\"source\":\"public.stock_issuances.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_issuance_items_issuance_id_fkey\",\"source\":\"public.stock_issuance_items.issuance_id\",\"target\":\"public.stock_issuances.id\"},{\"name\":\"stock_issuances_receiver_id_fkey\",\"source\":\"public.stock_issuances.receiver_id\",\"target\":\"public.vaishnavas.id\"}]},{\"schema\":\"public\",\"name\":\"guest_transfers\",\"rls_enabled\":true,\"rows\":159,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"registration_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"direction\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"],\"check\":\"direction = ANY (ARRAY['arrival'::text, 'departure'::text])\"},{\"name\":\"flight_datetime\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"flight_number\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"needs_transfer\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"check\":\"needs_transfer = ANY (ARRAY['yes'::text, 'no'::text, 'custom'::text])\"},{\"name\":\"transfer_group\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"seats\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"price\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"taxi_status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"check\":\"taxi_status = ANY (ARRAY['ordered'::text, 'cancelled'::text])\"},{\"name\":\"taxi_driver_info\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"taxi_ordered_by\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"guest_transfers_registration_id_fkey\",\"source\":\"public.guest_transfers.registration_id\",\"target\":\"public.retreat_registrations.id\"}]},{\"schema\":\"public\",\"name\":\"stock_transactions\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"reason\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"reference_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"performed_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_transactions_location_id_fkey\",\"source\":\"public.stock_transactions.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_transactions_product_id_fkey\",\"source\":\"public.stock_transactions.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_transactions_performed_by_fkey\",\"source\":\"public.stock_transactions.performed_by\",\"target\":\"public.profiles.id\"}]},{\"schema\":\"public\",\"name\":\"recipes\",\"rls_enabled\":false,\"rows\":129,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"category_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"translit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"output_amount\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"output_unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"portion_amount\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"portion_unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"cooking_time\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"photo_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"instructions_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"instructions_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"instructions_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"ekadashi\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Локация (кухня), которой принадлежит рецепт\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"recipes_location_id_fkey\",\"source\":\"public.recipes.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"recipes_category_id_fkey\",\"source\":\"public.recipes.category_id\",\"target\":\"public.recipe_categories.id\"},{\"name\":\"recipe_ingredients_recipe_id_fkey\",\"source\":\"public.recipe_ingredients.recipe_id\",\"target\":\"public.recipes.id\"},{\"name\":\"menu_items_recipe_id_fkey\",\"source\":\"public.menu_items.recipe_id\",\"target\":\"public.recipes.id\"},{\"name\":\"menu_template_dishes_recipe_id_fkey\",\"source\":\"public.menu_template_dishes.recipe_id\",\"target\":\"public.recipes.id\"},{\"name\":\"menu_dishes_recipe_id_fkey\",\"source\":\"public.menu_dishes.recipe_id\",\"target\":\"public.recipes.id\"}]},{\"schema\":\"public\",\"name\":\"user_permissions\",\"rls_enabled\":true,\"rows\":6,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"user_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"permission_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"is_granted\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"updatable\"],\"comment\":\"true = добавить право, false = убрать право\"},{\"name\":\"reason\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"granted_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"granted_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"comment\":\"Индивидуальные переопределения прав (добавить/убрать конкретное право)\",\"foreign_key_constraints\":[{\"name\":\"user_permissions_user_id_fkey\",\"source\":\"public.user_permissions.user_id\",\"target\":\"auth.users.id\"},{\"name\":\"user_permissions_permission_id_fkey\",\"source\":\"public.user_permissions.permission_id\",\"target\":\"public.permissions.id\"},{\"name\":\"user_permissions_granted_by_fkey\",\"source\":\"public.user_permissions.granted_by\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"modules\",\"rls_enabled\":true,\"rows\":3,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"code\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_active\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"permissions_module_id_fkey\",\"source\":\"public.permissions.module_id\",\"target\":\"public.modules.id\"},{\"name\":\"roles_module_id_fkey\",\"source\":\"public.roles.module_id\",\"target\":\"public.modules.id\"}]},{\"schema\":\"public\",\"name\":\"recipe_ingredients\",\"rls_enabled\":false,\"rows\":1058,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"recipe_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"amount\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"recipe_ingredients_recipe_id_fkey\",\"source\":\"public.recipe_ingredients.recipe_id\",\"target\":\"public.recipes.id\"},{\"name\":\"recipe_ingredients_product_id_fkey\",\"source\":\"public.recipe_ingredients.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"roles\",\"rls_enabled\":true,\"rows\":8,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"module_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"code\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"color\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'#6366f1'::character varying\"},{\"name\":\"is_system\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"roles_module_id_fkey\",\"source\":\"public.roles.module_id\",\"target\":\"public.modules.id\"},{\"name\":\"role_permissions_role_id_fkey\",\"source\":\"public.role_permissions.role_id\",\"target\":\"public.roles.id\"},{\"name\":\"user_roles_role_id_fkey\",\"source\":\"public.user_roles.role_id\",\"target\":\"public.roles.id\"}]},{\"schema\":\"public\",\"name\":\"rooms\",\"rls_enabled\":true,\"rows\":61,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"building_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"room_type_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"floor\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"1\"},{\"name\":\"capacity\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"1\"},{\"name\":\"has_bathroom\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"has_ac\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"has_kitchen\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"has_wifi\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_active\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"plan_x\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"X координата на плане этажа (0-100%)\"},{\"name\":\"plan_y\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Y координата на плане этажа (0-100%)\"},{\"name\":\"plan_width\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"8\",\"comment\":\"Ширина маркера на плане (%)\"},{\"name\":\"plan_height\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"8\",\"comment\":\"Высота маркера на плане (%)\"},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'active'::text\",\"check\":\"status = ANY (ARRAY['active'::text, 'maintenance'::text, 'mothballed'::text])\",\"comment\":\"Статус комнаты: active, maintenance (ремонт), mothballed (консервация)\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"rooms_building_id_fkey\",\"source\":\"public.rooms.building_id\",\"target\":\"public.buildings.id\"},{\"name\":\"rooms_room_type_id_fkey\",\"source\":\"public.rooms.room_type_id\",\"target\":\"public.room_types.id\"},{\"name\":\"cleaning_tasks_room_id_fkey\",\"source\":\"public.cleaning_tasks.room_id\",\"target\":\"public.rooms.id\"},{\"name\":\"residents_room_id_fkey\",\"source\":\"public.residents.room_id\",\"target\":\"public.rooms.id\"},{\"name\":\"room_cleanings_room_id_fkey\",\"source\":\"public.room_cleanings.room_id\",\"target\":\"public.rooms.id\"},{\"name\":\"guest_accommodations_room_id_fkey\",\"source\":\"public.guest_accommodations.room_id\",\"target\":\"public.rooms.id\"}]},{\"schema\":\"public\",\"name\":\"recipe_categories\",\"rls_enabled\":false,\"rows\":11,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"emoji\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"recipes_category_id_fkey\",\"source\":\"public.recipes.category_id\",\"target\":\"public.recipe_categories.id\"}]},{\"schema\":\"public\",\"name\":\"locations\",\"rls_enabled\":false,\"rows\":3,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issuances_location_id_fkey\",\"source\":\"public.stock_issuances.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"recipes_location_id_fkey\",\"source\":\"public.recipes.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_inventories_location_id_fkey\",\"source\":\"public.stock_inventories.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_days_location_id_fkey\",\"source\":\"public.menu_days.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_templates_location_id_fkey\",\"source\":\"public.menu_templates.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_requests_location_id_fkey\",\"source\":\"public.stock_requests.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_transactions_location_id_fkey\",\"source\":\"public.stock_transactions.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"retreats_location_id_fkey\",\"source\":\"public.retreats.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_meals_location_id_fkey\",\"source\":\"public.menu_meals.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_location_id_fkey\",\"source\":\"public.stock.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"purchase_requests_location_id_fkey\",\"source\":\"public.purchase_requests.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_receipts_location_id_fkey\",\"source\":\"public.stock_receipts.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_issues_location_id_fkey\",\"source\":\"public.stock_issues.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"price_history_location_id_fkey\",\"source\":\"public.price_history.location_id\",\"target\":\"public.locations.id\"}]},{\"schema\":\"public\",\"name\":\"resident_categories\",\"rls_enabled\":true,\"rows\":5,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'#6366f1'::text\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"residents_category_id_fkey\",\"source\":\"public.residents.category_id\",\"target\":\"public.resident_categories.id\"}]},{\"schema\":\"public\",\"name\":\"stock_issuance_items\",\"rls_enabled\":true,\"rows\":2,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"issuance_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issuance_items_issuance_id_fkey\",\"source\":\"public.stock_issuance_items.issuance_id\",\"target\":\"public.stock_issuances.id\"},{\"name\":\"stock_issuance_items_product_id_fkey\",\"source\":\"public.stock_issuance_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"purchase_request_items\",\"rls_enabled\":true,\"rows\":32,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"request_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"price\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"purchase_request_items_request_id_fkey\",\"source\":\"public.purchase_request_items.request_id\",\"target\":\"public.purchase_requests.id\"},{\"name\":\"purchase_request_items_product_id_fkey\",\"source\":\"public.purchase_request_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"floor_plans\",\"rls_enabled\":true,\"rows\":8,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"building_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"floor\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"]},{\"name\":\"image_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"],\"comment\":\"URL изображения в Supabase Storage\"},{\"name\":\"width\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Ширина изображения в пикселях\"},{\"name\":\"height\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Высота изображения в пикселях\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"comment\":\"Изображения планов этажей зданий\",\"foreign_key_constraints\":[{\"name\":\"floor_plans_building_id_fkey\",\"source\":\"public.floor_plans.building_id\",\"target\":\"public.buildings.id\"}]},{\"schema\":\"public\",\"name\":\"permissions\",\"rls_enabled\":true,\"rows\":43,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"module_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"code\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"category\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"permissions_module_id_fkey\",\"source\":\"public.permissions.module_id\",\"target\":\"public.modules.id\"},{\"name\":\"role_permissions_permission_id_fkey\",\"source\":\"public.role_permissions.permission_id\",\"target\":\"public.permissions.id\"},{\"name\":\"user_permissions_permission_id_fkey\",\"source\":\"public.user_permissions.permission_id\",\"target\":\"public.permissions.id\"}]},{\"schema\":\"public\",\"name\":\"guest_payments\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"registration_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"payment_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"amount\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"currency\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'RUB'::text\",\"check\":\"currency = ANY (ARRAY['RUB'::text, 'EUR'::text, 'USD'::text])\"},{\"name\":\"payment_method\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"check\":\"payment_method = ANY (ARRAY['tbank'::text, 'paypal'::text, 'cash'::text, 'other'::text])\"},{\"name\":\"description\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"guest_payments_registration_id_fkey\",\"source\":\"public.guest_payments.registration_id\",\"target\":\"public.retreat_registrations.id\"}]},{\"schema\":\"public\",\"name\":\"product_densities\",\"rls_enabled\":true,\"rows\":127,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\",\"unique\"]},{\"name\":\"tsp_grams\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Грамм в чайной ложке (5 мл)\"},{\"name\":\"tbsp_grams\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Грамм в столовой ложке (15 мл)\"},{\"name\":\"cup_grams\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Грамм в стакане (250 мл)\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"liter_grams\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Граммы в 1 литре (для жидких/сыпучих продуктов)\"}],\"primary_keys\":[\"id\"],\"comment\":\"Плотность продуктов для конвертации ложек/стаканов в граммы\",\"foreign_key_constraints\":[{\"name\":\"product_densities_product_id_fkey\",\"source\":\"public.product_densities.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"cleaning_tasks\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"room_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"cleaning_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'pending'::text\"},{\"name\":\"completed_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'cleaning'::text\",\"comment\":\"Тип задачи: cleaning (уборка), linen (смена белья)\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"cleaning_tasks_room_id_fkey\",\"source\":\"public.cleaning_tasks.room_id\",\"target\":\"public.rooms.id\"}]},{\"schema\":\"public\",\"name\":\"price_history\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"price\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"recorded_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"price_history_product_id_fkey\",\"source\":\"public.price_history.product_id\",\"target\":\"public.products.id\"},{\"name\":\"price_history_location_id_fkey\",\"source\":\"public.price_history.location_id\",\"target\":\"public.locations.id\"}]},{\"schema\":\"public\",\"name\":\"vaishnavas\",\"rls_enabled\":true,\"rows\":127,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"first_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"last_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"spiritual_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"phone\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"email\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"telegram\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"has_whatsapp\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"birth_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"gender\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"check\":\"gender = ANY (ARRAY['male'::text, 'female'::text])\"},{\"name\":\"country\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"photo_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"india_experience\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_team_member\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"department_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"passport\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_deleted\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"spiritual_teacher\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Духовный учитель\"},{\"name\":\"service\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Служение (для команды)\"},{\"name\":\"senior_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Старший (для команды)\"},{\"name\":\"visa_type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Тип визы: tourist, business, volunteer, religious, other\"},{\"name\":\"visa_expiry\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Дата окончания визы\"},{\"name\":\"indian_phone\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Индийский номер телефона\"},{\"name\":\"indian_phone_whatsapp\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\",\"comment\":\"Есть ли WhatsApp на индийском телефоне\"},{\"name\":\"city\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Город проживания\"},{\"name\":\"user_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Связь с аккаунтом в auth.users\"},{\"name\":\"user_type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'staff'::text\",\"check\":\"user_type = ANY (ARRAY['staff'::text, 'guest'::text])\",\"comment\":\"Тип пользователя: staff (команда) или guest (гость)\"},{\"name\":\"approval_status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'approved'::text\",\"check\":\"approval_status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text, 'blocked'::text])\",\"comment\":\"Статус одобрения: pending, approved, rejected, blocked\"},{\"name\":\"is_superuser\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\",\"comment\":\"Суперпользователь с полным доступом ко всем функциям\"},{\"name\":\"is_active\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\",\"comment\":\"Активен ли пользователь в системе\"},{\"name\":\"approved_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Кто одобрил заявку\"},{\"name\":\"approved_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Когда одобрена заявка\"},{\"name\":\"last_login_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Время последнего входа\"},{\"name\":\"telegram_username\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Никнейм в Telegram (без @)\"}],\"primary_keys\":[\"id\"],\"comment\":\"Объединённая таблица для гостей и членов команды\",\"foreign_key_constraints\":[{\"name\":\"residents_vaishnava_id_fkey\",\"source\":\"public.residents.vaishnava_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"menu_meals_cook_id_fkey\",\"source\":\"public.menu_meals.cook_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"stock_issuances_receiver_id_fkey\",\"source\":\"public.stock_issuances.receiver_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"vaishnavas_senior_id_fkey\",\"source\":\"public.vaishnavas.senior_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"retreat_registrations_vaishnava_id_fkey\",\"source\":\"public.retreat_registrations.vaishnava_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"vaishnavas_department_id_fkey\",\"source\":\"public.vaishnavas.department_id\",\"target\":\"public.departments.id\"},{\"name\":\"vaishnavas_user_id_fkey\",\"source\":\"public.vaishnavas.user_id\",\"target\":\"auth.users.id\"},{\"name\":\"vaishnavas_approved_by_fkey\",\"source\":\"public.vaishnavas.approved_by\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"menu_days\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_days_location_id_fkey\",\"source\":\"public.menu_days.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_items_menu_day_id_fkey\",\"source\":\"public.menu_items.menu_day_id\",\"target\":\"public.menu_days.id\"}]},{\"schema\":\"public\",\"name\":\"spiritual_teachers\",\"rls_enabled\":true,\"rows\":50,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"]},{\"schema\":\"public\",\"name\":\"building_types\",\"rls_enabled\":true,\"rows\":2,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'#6366f1'::text\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"buildings_building_type_id_fkey\",\"source\":\"public.buildings.building_type_id\",\"target\":\"public.building_types.id\"}]},{\"schema\":\"public\",\"name\":\"team_presence\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"member_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"start_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"end_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"]},{\"schema\":\"public\",\"name\":\"superusers\",\"rls_enabled\":false,\"rows\":17,\"columns\":[{\"name\":\"user_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]}],\"primary_keys\":[\"user_id\"],\"foreign_key_constraints\":[{\"name\":\"superusers_user_id_fkey\",\"source\":\"public.superusers.user_id\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"profiles\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"avatar_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"role\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'member'::text\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"profiles_id_fkey\",\"source\":\"public.profiles.id\",\"target\":\"auth.users.id\"},{\"name\":\"stock_requests_requested_by_fkey\",\"source\":\"public.stock_requests.requested_by\",\"target\":\"public.profiles.id\"},{\"name\":\"stock_transactions_performed_by_fkey\",\"source\":\"public.stock_transactions.performed_by\",\"target\":\"public.profiles.id\"},{\"name\":\"guest_notes_created_by_fkey\",\"source\":\"public.guest_notes.created_by\",\"target\":\"public.profiles.id\"}]},{\"schema\":\"public\",\"name\":\"stock_issue_items\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"issue_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issue_items_issue_id_fkey\",\"source\":\"public.stock_issue_items.issue_id\",\"target\":\"public.stock_issues.id\"},{\"name\":\"stock_issue_items_product_id_fkey\",\"source\":\"public.stock_issue_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"stock_inventories\",\"rls_enabled\":false,\"rows\":9,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"inventory_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"],\"default_value\":\"CURRENT_DATE\"},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"],\"default_value\":\"'in_progress'::text\",\"check\":\"status = ANY (ARRAY['in_progress'::text, 'completed'::text, 'cancelled'::text])\",\"comment\":\"in_progress = в процессе, completed = завершена, cancelled = отменена\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"completed_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"nextval('stock_inventories_number_seq'::regclass)\"}],\"primary_keys\":[\"id\"],\"comment\":\"Сессии инвентаризации склада\",\"foreign_key_constraints\":[{\"name\":\"stock_inventories_location_id_fkey\",\"source\":\"public.stock_inventories.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_inventory_items_inventory_id_fkey\",\"source\":\"public.stock_inventory_items.inventory_id\",\"target\":\"public.stock_inventories.id\"}]},{\"schema\":\"public\",\"name\":\"stock_inventory_items\",\"rls_enabled\":false,\"rows\":1250,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"inventory_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"expected_quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"],\"default_value\":\"0\",\"comment\":\"Количество по данным системы на момент создания\"},{\"name\":\"actual_quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Фактически подсчитанное количество\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"reason\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"comment\":\"Позиции инвентаризации с ожидаемым и фактическим количеством\",\"foreign_key_constraints\":[{\"name\":\"stock_inventory_items_inventory_id_fkey\",\"source\":\"public.stock_inventory_items.inventory_id\",\"target\":\"public.stock_inventories.id\"},{\"name\":\"stock_inventory_items_product_id_fkey\",\"source\":\"public.stock_inventory_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"role_permissions\",\"rls_enabled\":true,\"rows\":184,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"role_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"permission_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"role_permissions_role_id_fkey\",\"source\":\"public.role_permissions.role_id\",\"target\":\"public.roles.id\"},{\"name\":\"role_permissions_permission_id_fkey\",\"source\":\"public.role_permissions.permission_id\",\"target\":\"public.permissions.id\"}]},{\"schema\":\"public\",\"name\":\"products\",\"rls_enabled\":false,\"rows\":197,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"category_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"translit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"price_min\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"price_max\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"waste_percent\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"NULL::numeric\",\"comment\":\"Процент отходов при очистке (для овощей/фруктов). Используется при расчёте закупок.\"},{\"name\":\"min_purchase\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Минимальное количество для закупки (в базовых единицах: г/мл/шт)\"},{\"name\":\"purchase_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Ссылка на покупку продукта (Amazon, магазин и т.д.)\"},{\"name\":\"ekadashi\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\",\"comment\":\"Подходит ли продукт для Экадаши (без зерновых и бобовых)\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issuance_items_product_id_fkey\",\"source\":\"public.stock_issuance_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_inventory_items_product_id_fkey\",\"source\":\"public.stock_inventory_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"product_densities_product_id_fkey\",\"source\":\"public.product_densities.product_id\",\"target\":\"public.products.id\"},{\"name\":\"products_category_id_fkey\",\"source\":\"public.products.category_id\",\"target\":\"public.product_categories.id\"},{\"name\":\"recipe_ingredients_product_id_fkey\",\"source\":\"public.recipe_ingredients.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_request_items_product_id_fkey\",\"source\":\"public.stock_request_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_transactions_product_id_fkey\",\"source\":\"public.stock_transactions.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_product_id_fkey\",\"source\":\"public.stock.product_id\",\"target\":\"public.products.id\"},{\"name\":\"purchase_request_items_product_id_fkey\",\"source\":\"public.purchase_request_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_receipt_items_product_id_fkey\",\"source\":\"public.stock_receipt_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"stock_issue_items_product_id_fkey\",\"source\":\"public.stock_issue_items.product_id\",\"target\":\"public.products.id\"},{\"name\":\"price_history_product_id_fkey\",\"source\":\"public.price_history.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"stock_receipts\",\"rls_enabled\":true,\"rows\":4,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"nextval('stock_receipts_number_seq'::regclass)\"},{\"name\":\"buyer_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"receipt_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"archived\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"deleted\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_receipts_location_id_fkey\",\"source\":\"public.stock_receipts.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_receipts_buyer_id_fkey\",\"source\":\"public.stock_receipts.buyer_id\",\"target\":\"public.buyers.id\"},{\"name\":\"stock_receipt_items_receipt_id_fkey\",\"source\":\"public.stock_receipt_items.receipt_id\",\"target\":\"public.stock_receipts.id\"}]},{\"schema\":\"public\",\"name\":\"departments\",\"rls_enabled\":false,\"rows\":8,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"name_ru\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"color\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'#6366f1'::character varying\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"vaishnavas_department_id_fkey\",\"source\":\"public.vaishnavas.department_id\",\"target\":\"public.departments.id\"}]},{\"schema\":\"public\",\"name\":\"user_roles\",\"rls_enabled\":true,\"rows\":1,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"user_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"role_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"is_active\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"assigned_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"assigned_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"comment\":\"Роли назначенные пользователям\",\"foreign_key_constraints\":[{\"name\":\"user_roles_role_id_fkey\",\"source\":\"public.user_roles.role_id\",\"target\":\"public.roles.id\"},{\"name\":\"user_roles_assigned_by_fkey\",\"source\":\"public.user_roles.assigned_by\",\"target\":\"auth.users.id\"},{\"name\":\"user_roles_user_id_fkey\",\"source\":\"public.user_roles.user_id\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"retreat_registrations\",\"rls_enabled\":true,\"rows\":97,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"vaishnava_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"retreat_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"registration_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'guest'::text\",\"check\":\"status = ANY (ARRAY['guest'::text, 'team'::text, 'cancelled'::text])\"},{\"name\":\"companions\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"accommodation_wishes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"meal_type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'prasad'::text\",\"check\":\"meal_type = ANY (ARRAY['prasad'::text, 'self'::text, 'child'::text])\"},{\"name\":\"payment_notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"org_notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_deleted\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"extended_stay\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Планы остаться до/после ретрита\"},{\"name\":\"guest_questions\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Вопросы гостя\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"retreat_registrations_retreat_id_fkey\",\"source\":\"public.retreat_registrations.retreat_id\",\"target\":\"public.retreats.id\"},{\"name\":\"guest_payments_registration_id_fkey\",\"source\":\"public.guest_payments.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"guest_visas_registration_id_fkey\",\"source\":\"public.guest_visas.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"guest_notes_registration_id_fkey\",\"source\":\"public.guest_notes.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"retreat_registrations_vaishnava_id_fkey\",\"source\":\"public.retreat_registrations.vaishnava_id\",\"target\":\"public.vaishnavas.id\"},{\"name\":\"guest_accommodations_registration_id_fkey\",\"source\":\"public.guest_accommodations.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"guest_transfers_registration_id_fkey\",\"source\":\"public.guest_transfers.registration_id\",\"target\":\"public.retreat_registrations.id\"}]},{\"schema\":\"public\",\"name\":\"translations\",\"rls_enabled\":true,\"rows\":1154,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"key\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"context\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"page\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"]},{\"schema\":\"public\",\"name\":\"stock_receipt_items\",\"rls_enabled\":true,\"rows\":25,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"receipt_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"price\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_receipt_items_receipt_id_fkey\",\"source\":\"public.stock_receipt_items.receipt_id\",\"target\":\"public.stock_receipts.id\"},{\"name\":\"stock_receipt_items_product_id_fkey\",\"source\":\"public.stock_receipt_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"menu_templates\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"day_count\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"7\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_templates_location_id_fkey\",\"source\":\"public.menu_templates.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_template_meals_template_id_fkey\",\"source\":\"public.menu_template_meals.template_id\",\"target\":\"public.menu_templates.id\"}]},{\"schema\":\"public\",\"name\":\"holidays\",\"rls_enabled\":false,\"rows\":264,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"fasting_level\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"]},{\"schema\":\"public\",\"name\":\"product_categories\",\"rls_enabled\":false,\"rows\":10,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"products_category_id_fkey\",\"source\":\"public.products.category_id\",\"target\":\"public.product_categories.id\"}]},{\"schema\":\"public\",\"name\":\"units\",\"rls_enabled\":true,\"rows\":9,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"code\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"short_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"short_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"short_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"base_unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"to_base_ratio\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"]},{\"schema\":\"public\",\"name\":\"purchase_requests\",\"rls_enabled\":true,\"rows\":3,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"nextval('purchase_requests_number_seq'::regclass)\"},{\"name\":\"period_from\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"period_to\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'pending'::text\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"buyer_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"purchase_requests_buyer_id_fkey\",\"source\":\"public.purchase_requests.buyer_id\",\"target\":\"public.buyers.id\"},{\"name\":\"purchase_requests_location_id_fkey\",\"source\":\"public.purchase_requests.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"purchase_request_items_request_id_fkey\",\"source\":\"public.purchase_request_items.request_id\",\"target\":\"public.purchase_requests.id\"}]},{\"schema\":\"public\",\"name\":\"stock_requests\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"requested_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'pending'::text\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_requests_location_id_fkey\",\"source\":\"public.stock_requests.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_requests_requested_by_fkey\",\"source\":\"public.stock_requests.requested_by\",\"target\":\"public.profiles.id\"},{\"name\":\"stock_request_items_request_id_fkey\",\"source\":\"public.stock_request_items.request_id\",\"target\":\"public.stock_requests.id\"}]},{\"schema\":\"public\",\"name\":\"guest_visas\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"registration_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"application_id\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'pending'::text\",\"check\":\"status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])\"},{\"name\":\"passport_photo_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"guest_visas_registration_id_fkey\",\"source\":\"public.guest_visas.registration_id\",\"target\":\"public.retreat_registrations.id\"}]},{\"schema\":\"public\",\"name\":\"materials\",\"rls_enabled\":true,\"rows\":6,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"slug\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\",\"unique\"],\"comment\":\"Уникальный идентификатор для URL\"},{\"name\":\"title_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"title_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"title_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"content_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"content_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"content_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"icon\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Имя иконки (map, book, clipboard, home, currency, question)\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"is_published\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"comment\":\"Материалы и гайды для гостей ашрама\"},{\"schema\":\"public\",\"name\":\"menu_dishes\",\"rls_enabled\":false,\"rows\":30,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"meal_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"recipe_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"portion_size\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"portion_unit\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_dishes_meal_id_fkey\",\"source\":\"public.menu_dishes.meal_id\",\"target\":\"public.menu_meals.id\"},{\"name\":\"menu_dishes_recipe_id_fkey\",\"source\":\"public.menu_dishes.recipe_id\",\"target\":\"public.recipes.id\"}]},{\"schema\":\"public\",\"name\":\"stock_request_items\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"request_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"updatable\"]},{\"name\":\"unit\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_request_items_request_id_fkey\",\"source\":\"public.stock_request_items.request_id\",\"target\":\"public.stock_requests.id\"},{\"name\":\"stock_request_items_product_id_fkey\",\"source\":\"public.stock_request_items.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"menu_template_dishes\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"template_meal_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"recipe_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"portion_size\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"portion_unit\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_template_dishes_template_meal_id_fkey\",\"source\":\"public.menu_template_dishes.template_meal_id\",\"target\":\"public.menu_template_meals.id\"},{\"name\":\"menu_template_dishes_recipe_id_fkey\",\"source\":\"public.menu_template_dishes.recipe_id\",\"target\":\"public.recipes.id\"}]},{\"schema\":\"public\",\"name\":\"buildings\",\"rls_enabled\":true,\"rows\":5,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"building_type_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"floors\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"1\"},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"photo_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"address\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"is_active\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"true\"},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"is_temporary\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"available_from\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"available_until\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"buildings_building_type_id_fkey\",\"source\":\"public.buildings.building_type_id\",\"target\":\"public.building_types.id\"},{\"name\":\"rooms_building_id_fkey\",\"source\":\"public.rooms.building_id\",\"target\":\"public.buildings.id\"},{\"name\":\"floor_plans_building_id_fkey\",\"source\":\"public.floor_plans.building_id\",\"target\":\"public.buildings.id\"}]},{\"schema\":\"public\",\"name\":\"retreats\",\"rls_enabled\":false,\"rows\":3,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"start_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"end_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"participants_count\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"color\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"expected_participants\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"description_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"description_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"google_sheet_url\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"URL опубликованной Google таблицы (CSV) для импорта гостей\"},{\"name\":\"registration_open\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\",\"comment\":\"Открыта ли онлайн-регистрация на ретрит\"},{\"name\":\"registration_start\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Дата начала регистрации\"},{\"name\":\"registration_end\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Дата окончания регистрации\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"bookings_retreat_id_fkey\",\"source\":\"public.bookings.retreat_id\",\"target\":\"public.retreats.id\"},{\"name\":\"retreats_location_id_fkey\",\"source\":\"public.retreats.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"residents_retreat_id_fkey\",\"source\":\"public.residents.retreat_id\",\"target\":\"public.retreats.id\"},{\"name\":\"retreat_registrations_retreat_id_fkey\",\"source\":\"public.retreat_registrations.retreat_id\",\"target\":\"public.retreats.id\"}]},{\"schema\":\"public\",\"name\":\"stock\",\"rls_enabled\":false,\"rows\":24,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"product_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"current_quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"min_quantity\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"0\"},{\"name\":\"supplier\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"last_price\",\"data_type\":\"numeric\",\"format\":\"numeric\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"placement\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Где хранится продукт (холодильник, полка и т.д.)\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_location_id_fkey\",\"source\":\"public.stock.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_product_id_fkey\",\"source\":\"public.stock.product_id\",\"target\":\"public.products.id\"}]},{\"schema\":\"public\",\"name\":\"guest_accommodations\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"registration_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"room_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"building_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"room_number\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"room_type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"check_in_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"check_out_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"guest_accommodations_registration_id_fkey\",\"source\":\"public.guest_accommodations.registration_id\",\"target\":\"public.retreat_registrations.id\"},{\"name\":\"guest_accommodations_room_id_fkey\",\"source\":\"public.guest_accommodations.room_id\",\"target\":\"public.rooms.id\"}]},{\"schema\":\"public\",\"name\":\"residents\",\"rls_enabled\":true,\"rows\":46,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"room_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"],\"comment\":\"Room ID. NULL indicates self-accommodation (Самостоятельно).\"},{\"name\":\"category_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"retreat_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_phone\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_email\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_country\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_passport\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"guest_notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"check_in\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"check_out\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'active'::text\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"booking_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"early_checkin\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"late_checkout\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"cleaning_done\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"cleaning_skipped\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"vaishnava_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"comment\":\"Единая таблица размещений: гости ретритов и бронирования. Отображается в шахматке.\",\"foreign_key_constraints\":[{\"name\":\"residents_booking_id_fkey\",\"source\":\"public.residents.booking_id\",\"target\":\"public.bookings.id\"},{\"name\":\"residents_room_id_fkey\",\"source\":\"public.residents.room_id\",\"target\":\"public.rooms.id\"},{\"name\":\"residents_category_id_fkey\",\"source\":\"public.residents.category_id\",\"target\":\"public.resident_categories.id\"},{\"name\":\"residents_retreat_id_fkey\",\"source\":\"public.residents.retreat_id\",\"target\":\"public.retreats.id\"},{\"name\":\"residents_vaishnava_id_fkey\",\"source\":\"public.residents.vaishnava_id\",\"target\":\"public.vaishnavas.id\"}]},{\"schema\":\"public\",\"name\":\"menu_template_meals\",\"rls_enabled\":false,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"template_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"day_number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"]},{\"name\":\"meal_type\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"portions\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"50\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_template_meals_template_id_fkey\",\"source\":\"public.menu_template_meals.template_id\",\"target\":\"public.menu_templates.id\"},{\"name\":\"menu_template_dishes_template_meal_id_fkey\",\"source\":\"public.menu_template_dishes.template_meal_id\",\"target\":\"public.menu_template_meals.id\"}]},{\"schema\":\"public\",\"name\":\"stock_issues\",\"rls_enabled\":true,\"rows\":0,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"number\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"nextval('stock_issues_number_seq'::regclass)\"},{\"name\":\"recipient_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"issue_date\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"archived\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"stock_issues_location_id_fkey\",\"source\":\"public.stock_issues.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"stock_issue_items_issue_id_fkey\",\"source\":\"public.stock_issue_items.issue_id\",\"target\":\"public.stock_issues.id\"}]},{\"schema\":\"public\",\"name\":\"bookings\",\"rls_enabled\":true,\"rows\":10,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"contact_name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"contact_phone\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"contact_email\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"contact_country\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"beds_count\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"updatable\"],\"default_value\":\"1\"},{\"name\":\"check_in\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"check_out\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"retreat_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"status\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'active'::text\"},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"early_checkin\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"late_checkout\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"bookings_retreat_id_fkey\",\"source\":\"public.bookings.retreat_id\",\"target\":\"public.retreats.id\"},{\"name\":\"residents_booking_id_fkey\",\"source\":\"public.residents.booking_id\",\"target\":\"public.bookings.id\"}]},{\"schema\":\"public\",\"name\":\"menu_meals\",\"rls_enabled\":false,\"rows\":40,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"location_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"meal_type\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"updatable\"]},{\"name\":\"portions\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"50\"},{\"name\":\"cook_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"menu_meals_location_id_fkey\",\"source\":\"public.menu_meals.location_id\",\"target\":\"public.locations.id\"},{\"name\":\"menu_dishes_meal_id_fkey\",\"source\":\"public.menu_dishes.meal_id\",\"target\":\"public.menu_meals.id\"},{\"name\":\"menu_meals_cook_id_fkey\",\"source\":\"public.menu_meals.cook_id\",\"target\":\"public.vaishnavas.id\"}]},{\"schema\":\"public\",\"name\":\"buyers\",\"rls_enabled\":true,\"rows\":3,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"name\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"updatable\"]},{\"name\":\"phone\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"updated_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"name_ru\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_en\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"name_hi\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"sort_order\",\"data_type\":\"integer\",\"format\":\"int4\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"whatsapp\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"purchase_requests_buyer_id_fkey\",\"source\":\"public.purchase_requests.buyer_id\",\"target\":\"public.buyers.id\"},{\"name\":\"stock_receipts_buyer_id_fkey\",\"source\":\"public.stock_receipts.buyer_id\",\"target\":\"public.buyers.id\"}]},{\"schema\":\"public\",\"name\":\"room_cleanings\",\"rls_enabled\":true,\"rows\":23,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"extensions.uuid_generate_v4()\"},{\"name\":\"room_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"start_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"end_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"notes\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"},{\"name\":\"created_by\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"completed\",\"data_type\":\"boolean\",\"format\":\"bool\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"false\"},{\"name\":\"completed_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"type\",\"data_type\":\"text\",\"format\":\"text\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"'cleaning'::text\",\"comment\":\"Тип: cleaning (уборка), linen (смена белья)\"}],\"primary_keys\":[\"id\"],\"foreign_key_constraints\":[{\"name\":\"room_cleanings_room_id_fkey\",\"source\":\"public.room_cleanings.room_id\",\"target\":\"public.rooms.id\"},{\"name\":\"room_cleanings_created_by_fkey\",\"source\":\"public.room_cleanings.created_by\",\"target\":\"auth.users.id\"}]},{\"schema\":\"public\",\"name\":\"vaishnava_stays\",\"rls_enabled\":true,\"rows\":6,\"columns\":[{\"name\":\"id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"],\"default_value\":\"gen_random_uuid()\"},{\"name\":\"vaishnava_id\",\"data_type\":\"uuid\",\"format\":\"uuid\",\"options\":[\"updatable\"]},{\"name\":\"start_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"end_date\",\"data_type\":\"date\",\"format\":\"date\",\"options\":[\"updatable\"]},{\"name\":\"comment\",\"data_type\":\"character varying\",\"format\":\"varchar\",\"options\":[\"nullable\",\"updatable\"]},{\"name\":\"created_at\",\"data_type\":\"timestamp with time zone\",\"format\":\"timestamptz\",\"options\":[\"nullable\",\"updatable\"],\"default_value\":\"now()\"}],\"primary_keys\":[\"id\"]}]"
  }
]